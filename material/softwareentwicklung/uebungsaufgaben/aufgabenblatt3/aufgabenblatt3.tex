\documentclass[answers]{exam}
\usepackage[french, english, ngerman]{babel} 
\usepackage[utf8x]{inputenc}
\usepackage{ucs}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{sectsty}
\usepackage{stmaryrd}
\usepackage{attachfile2}
\usepackage{caption}
\DeclareCaptionFont{white}{\color{white}}
\DeclareCaptionFormat{listing}{%
	\parbox{3\textwidth}{\colorbox{lightgray}{\parbox{0.91844\textwidth}{#1#2#3}}\vskip4.5pt}}
\captionsetup[lstlisting]{format=listing,labelfont=white,textfont=white}


\title{Aufgabenblatt 3}
\linespread{1.2}

% Kopf-Fu"szeile
\addtolength{\headheight}{2\baselineskip} \addtolength{\headheight}{0.61pt}
\pagestyle{headandfoot}

\firstpageheader{Aufgabenblatt 3}{}{\thepage}
\runningheader{Aufgabenblatt 3}{}{\thepage}
\firstpagefooter{\small{Vorkurs Softwareentwicklung}}{}{\small{WS 2014/15}}
\runningfooter{\small{Vorkurs Softwareentwicklung}}{}{\small{WS 2014/15}}
\runningfootrule
\runningheadrule
\firstpageheadrule
\firstpagefootrule
%\allsectionsfont{\sffamily\raggedright}

\lstset{
	language=Java,
	showstringspaces=false, 
	basicstyle=\small,
	breakatwhitespace=true,breaklines=true,
	tabsize=4, 
	keywordstyle=\color{blue}\textbf,
	columns=fullflexible,
	frame=single,xleftmargin=\fboxsep,xrightmargin=-\fboxsep,
	rulecolor=\color{lightgray}
}
%\allsectionsfont{\sffamily\raggedright}


\newcommand{\attachcode}[1]{\lstinputlisting[title={\textattachfile[color={0 0 1}]{#1}{#1}}]{#1}	
}
\newcommand{\attachsolutions}[1]{\par\textattachfile[color={1 0 0}]{loesungen3/#1}{Lösung: #1}}
\newcommand{\attachcodeandsolutions}[1]{
	\attachcode{#1}
	\attachsolutions{#1}
}

\begin{document}

\begin{questions}  
  \question if/else und if else
  \begin{parts}
  \part Geben Sie im Programm zur Schaltjahrberechnung einen Text Ihrer Wahl statt \textit{true} und \textit{false} aus.
  \attachsolutions{Aufg1a.java}
  \part Was halten Sie von folgendem Code? Was macht das Programm und wie könnte man das Programm verschönern?
  \attachcodeandsolutions{Aufg1b.java}
  \part Schreiben Sie ein Programm, dem eine ganze Zahl übergeben wird. Die Ausgabe hängt davon ab welche Zahl eingegeben wurde. Je nach Zahl wird eine von 7 beliebigen Texten ausgegeben. Verwenden Sie nur if/else zur Unterscheidung.
  \attachsolutions{Aufg1c.java}
  \newpage
  \part Was ist der Fehler des folgenden Programms? Schreiben Sie eine korrekte Version.
\attachcodeandsolutions{Aufg1d.java}
\part Gegeben seien drei Variablen, die Auskunft über Eigenschaften einer bestimmten Stadt geben:
\begin{lstlisting}
boolean istHaupstadt;
int anzahlEinwohner;
double steuernProEinwohner;
\end{lstlisting}  

Dabei gilt folgendes:
\begin{itemize}
\item \emph{istHauptstadt} ist genau dann true, wenn die Stadt eine Hauptstadt ist.
\item \emph{anzahlEinwohner} gibt die Anzahl der Einwohner der Stadt an.
\item \emph{steuernProEinwohner} ist die durchschnittliche monatliche Steuerabgabe pro Einwohner und Monat.
\end{itemize}
Wir definieren eine Metropole als eine Stadt, die Hauptstadt ist mit mehr als 100 000 Einwohner oder die mehr als 200 000 Einwohner hat und im Durchschnitt mindestens 720 000 000 Steuereinnahmen pro Jahr hat. \\
Geben Sie einen Booleschen-Ausdruck mit den drei Variablen in Java an, der genau dann true ist, wenn die Stadt eine Metropole ist. 
\attachsolutions{Aufg1e.java}
\newpage
\part Bauen Sie ein Programm das folgendes Entscheidungsproblem löst:
Es werden 3 ganze Zahlen, - wir nennen sie x1, x2 und x3 - definiert. Diese Zahlen dürfen, müssen aber nicht paarweise verschieden sein, d.h. im Extremfall sind sie sogar gleich. Gesucht wird der mittlere Wert m.

\textbf{Beispiele}:\\
$x_1=9, x_2=3, x_3=6\\\Rightarrow m = 6$

$x_1=3, x_2=6, x_3=9\\\Rightarrow m = 6$

$x_1=2, x_2=1, x_3=2\\\Rightarrow m = 2$

$x_1=2, x_2=2, x_3=2\\\Rightarrow m = 2$

\textbf{Hilfe}: Suchen Sie im Internet nach \textit{Entscheidungsbaum} und zeichnen Sie einen solchen zur Orientierung auf.
\attachsolutions{Aufg1f.java}
  \end{parts}
  
  \question Vergleichen von Fließkommazahlen
  \begin{parts}
  \part Schreiben Sie ein Programm mit zwei lokalen Variablen vom Typ double. Die eine Variable soll den initialen Wert 0,0 und die andere den Wert 0,1 haben. Addieren Sie (ohne Schleife) 10 mal den Wert der zweiten Variable auf die erste. Vergleichen Sie anschließend den Wert mit dem Identitätsoperator \textit{==} auf 1,0 und geben Sie das Ergebnis dieses Booleschen Ausdrucks und der zwei Variablen auf dem Bildschirm aus. Wie erklären Sie sich das Resultat?
  \attachsolutions{Aufg2a.java}
  \end{parts}
\end{questions}
\end{document}